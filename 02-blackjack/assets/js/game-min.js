const game=(()=>{"use strict";let e=[],a=document.querySelector("#btnNewGame"),b=document.querySelector("#btnAskCard"),c=document.querySelector("#btnStay"),f=document.querySelectorAll("small"),g=document.querySelectorAll(".divCards"),h,d=(b=1)=>{e=i(),h=[];for(let a=0;a<=b;a++)h.push(0),g[a].innerHTML="",f[a].innerText=" - 0"},i=()=>{e=[];let a=["C","D","H","S"],b=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];for(let c of a)for(let d of b)e.push(d+c);return _.shuffle(e)},j=a=>e.length>0?e.pop():"No more cards",k=b=>{let a=b.slice(0,-1);return isNaN(a)?"A"===a?11:10:parseInt(a)},l=(b,c)=>{let a=document.createElement("img");a.src=`assets/cards/${b}.png`,a.classList.add("card-player"),g[c].appendChild(a)},m=()=>{let[a,b]=h;a>21?(f[0].innerText=" You lose!",f[1].innerText=" You win!"):b>21?(f[0].innerText=" You win!",f[1].innerText=" You lose!"):a===b?(f[0].innerText=" You draw!",f[1].innerText=" You draw!"):(f[0].innerText=" You lose!",f[1].innerText=" You win!")},n=(b,a)=>{let c=k(b);return h[a]=parseInt(h[a])+c,f[a].innerText=` - ${h[a]}`,h[a]},o=a=>{do{let b=h.length,c=j();l(c,b-1),n(c,b-1)}while(h[1]<a&&a<=21)m()};return b.addEventListener("click",()=>{if(h[0]<21){let a=j();l(a,0),n(a,0)}else b.disabled=!1}),c.addEventListener("click",()=>{b.disabled=!0,c.disabled=!0,o(h[0])}),a.addEventListener("click",()=>{console.clear(),d(),b.disabled=!1,c.disabled=!1}),{newGame:d}})()